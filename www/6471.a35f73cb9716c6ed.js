"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6471],{8852:(z,f,l)=>{l.r(f),l.d(f,{BooknowPageModule:()=>C});var p,d,c=l(177),g=l(4341),s=l(4488),h=l(8986),u=l(467),e=l(4438),b=l(4517),y=l(3366),v=l(7925),D=l(2404);function M(a,n){1&a&&e.nrm(0,"ion-spinner",12)}function j(a,n){if(1&a){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",23)(2,"ion-checkbox",24),e.mxI("ngModelChange",function(o){const i=e.eBV(t).$implicit;return e.DH7(i.selected,o)||(i.selected=o),e.Njj(o)}),e.bIt("ionChange",function(){const o=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.updateCrewCoreServiceSelection(o))}),e.k0s()(),e.j41(3,"ion-col",25),e.EFF(4),e.k0s()()}if(2&a){const t=n.$implicit;e.R7$(2),e.R50("ngModel",t.selected),e.R7$(2),e.SpI(" ",t.label," ")}}function x(a,n){if(1&a){const t=e.RV6();e.j41(0,"ion-datetime",26),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG(2);return e.DH7(i.PostData.start_date,o)||(i.PostData.start_date=o),e.Njj(o)}),e.bIt("ionChange",function(o){e.eBV(t);const i=e.XpG(2);return e.Njj(i.handlestart_dateChange(o))}),e.k0s()}if(2&a){const t=e.XpG(2);e.R50("ngModel",t.PostData.start_date),e.Y8G("min",t.minDate)}}function w(a,n){if(1&a&&(e.j41(0,"ion-select-option",27),e.EFF(1),e.k0s()),2&a){const t=n.$implicit;e.FS9("value",t.id),e.R7$(),e.JRh(t.name)}}function B(a,n){if(1&a&&(e.j41(0,"ion-select-option",27),e.EFF(1),e.k0s()),2&a){const t=n.$implicit;e.FS9("value",t.id),e.R7$(),e.JRh(t.name)}}function F(a,n){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"p",13),e.EFF(2,"Select the button for all items that you need:"),e.k0s(),e.DNE(3,j,5,2,"ion-row",14),e.j41(4,"ion-item")(5,"ion-label",15),e.EFF(6,"Date*"),e.k0s(),e.j41(7,"ion-input",16),e.nI1(8,"date"),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.PostData.start_date,o)||(i.PostData.start_date=o),e.Njj(o)}),e.k0s()(),e.j41(9,"ion-popover",17),e.bIt("ionPopoverDidDismiss",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.popoverDismissed())}),e.DNE(10,x,1,2,"ng-template"),e.k0s(),e.j41(11,"ion-row")(12,"ion-col",18)(13,"ion-item")(14,"ion-label",15),e.EFF(15,"Country*"),e.k0s(),e.j41(16,"ion-select",19),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.PostData.country,o)||(i.PostData.country=o),e.Njj(o)}),e.bIt("ionChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.countryEvent(o))}),e.DNE(17,w,2,2,"ion-select-option",20),e.k0s()()(),e.j41(18,"ion-col",18)(19,"ion-item")(20,"ion-label",15),e.EFF(21,"City*"),e.k0s(),e.j41(22,"ion-select",21),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.PostData.city,o)||(i.PostData.city=o),e.Njj(o)}),e.DNE(23,B,2,2,"ion-select-option",20),e.k0s()()()(),e.j41(24,"ion-item")(25,"ion-label",15),e.EFF(26,"Tell us more about your project"),e.k0s(),e.j41(27,"ion-textarea",22),e.bIt("input",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.adjustTextarea(o))}),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.PostData.details,o)||(i.PostData.details=o),e.Njj(o)}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(3),e.Y8G("ngForOf",t.services),e.R7$(4),e.FS9("value",e.i5U(8,12,t.PostData.start_date,"dd MMM yyyy")),e.R50("ngModel",t.PostData.start_date),e.Y8G("disabled",t.hasClick),e.R7$(9),e.R50("ngModel",t.PostData.country),e.Y8G("disabled",t.hasClick),e.R7$(),e.Y8G("ngForOf",t.countries),e.R7$(5),e.R50("ngModel",t.PostData.city),e.Y8G("disabled",t.hasClick),e.R7$(),e.Y8G("ngForOf",t.cities),e.R7$(4),e.R50("ngModel",t.PostData.details),e.Y8G("disabled",t.hasClick)}}function I(a,n){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"p",13),e.EFF(2,"Personal details"),e.k0s(),e.j41(3,"ion-item")(4,"ion-label",15),e.EFF(5,"Full Name*"),e.k0s(),e.j41(6,"ion-input",28),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.PostData.first_name,o)||(i.PostData.first_name=o),e.Njj(o)}),e.k0s()(),e.j41(7,"ion-item")(8,"ion-label",15),e.EFF(9,"Email Address*"),e.k0s(),e.j41(10,"ion-input",29),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.PostData.email,o)||(i.PostData.email=o),e.Njj(o)}),e.k0s()(),e.j41(11,"ion-item")(12,"ion-label",15),e.EFF(13,"Mobile Number*"),e.k0s(),e.j41(14,"ion-input",30),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.PostData.phone_number,o)||(i.PostData.phone_number=o),e.Njj(o)}),e.k0s()(),e.j41(15,"ion-item")(16,"ion-label",15),e.EFF(17,"Your Company"),e.k0s(),e.j41(18,"ion-input",31),e.mxI("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.DH7(i.PostData.company,o)||(i.PostData.company=o),e.Njj(o)}),e.k0s()()()}if(2&a){const t=e.XpG();e.R7$(6),e.R50("ngModel",t.PostData.first_name),e.Y8G("disabled",t.hasClick),e.R7$(4),e.R50("ngModel",t.PostData.email),e.Y8G("disabled",t.hasClick),e.R7$(4),e.R50("ngModel",t.PostData.phone_number),e.Y8G("disabled",t.hasClick),e.R7$(4),e.R50("ngModel",t.PostData.company),e.Y8G("disabled",t.hasClick)}}function S(a,n){1&a&&e.nrm(0,"ion-col",32)}function G(a,n){if(1&a){const t=e.RV6();e.j41(0,"ion-col",33)(1,"ion-button",7),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.goToNextStep())}),e.EFF(2," Next "),e.nrm(3,"ion-icon",34),e.k0s()()}}function R(a,n){if(1&a){const t=e.RV6();e.j41(0,"ion-button",38),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.ActionSubmit())}),e.EFF(1," Submit "),e.nrm(2,"ion-icon",34),e.k0s()}}function T(a,n){1&a&&(e.j41(0,"ion-button",39),e.nrm(1,"ion-spinner",40),e.k0s())}function N(a,n){if(1&a&&(e.j41(0,"ion-col",35),e.DNE(1,R,3,0,"ion-button",36)(2,T,2,0,"ion-button",37),e.k0s()),2&a){const t=e.XpG();e.R7$(),e.Y8G("ngIf",!t.hasClick),e.R7$(),e.Y8G("ngIf",t.hasClick)}}class k{constructor(n,t,r,o,i,E,X,V){this.toastController=n,this.navCtrl=t,this.alertCtrl=r,this.router=o,this.apiService=i,this.otherService=E,this.networkService=X,this.popoverController=V,this.apiLoader=!1,this.currentStep=1,this.services=[{label:"Photography",selected:!1},{label:"Videography",selected:!1},{label:"Video Editing Only",selected:!1},{label:"Live Streaming",selected:!1},{label:"Influencer Collaboration",selected:!1}],this.selectedservices=[],this.countries=[],this.cities=[],this.PostData={country:"",city:"",start_date:"",details:"",first_name:"",email:"",phone_number:"",company:""},this.hasClick=!1,this.otherService.statusBar("#d1378c",1);const m=new Date,A=new Date(m.getFullYear(),m.getMonth(),m.getDate()+1);this.minDate=A.toISOString(),this.PostData.start_date=(0,c.Yq)(this.minDate,"yyyy-MM-dd","en-US")}ngOnInit(){this.getCountries()}updateCrewCoreServiceSelection(n){if(n.selected)this.selectedservices.push(n.label);else{const t=this.selectedservices.indexOf(n.label);-1!==t&&this.selectedservices.splice(t,1)}}handlestart_dateChange(n){this.PostData.start_date=(0,c.Yq)(n.detail.value,"yyyy-MM-dd","en-US"),this.popoverController.dismiss()}popoverDismissed(){}openTab(n){this.currentStep=n}goToNextStep(){if(1===this.currentStep)if(0===this.selectedservices.length)this.toast("Please select the core service(s) that you need.");else if(""===this.PostData.country)this.toast("Please select your country.");else if(""===this.PostData.start_date)this.toast("Please select the project date.");else{const n=new Date(this.PostData.start_date),t=new Date;t.setHours(0,0,0,0),n.setHours(0,0,0,0),n.getTime()<=t.getTime()?this.toast("Please select a date later than today."):this.currentStep++}}goToPreviousStep(){this.currentStep--}ActionSubmit(){!0!==navigator.onLine||0==this.networkService.checkInternetConnection()?this.presentAlert("No Internet Connection!","Please put Internet Connection ON and try again"):""===this.PostData.start_date?this.presentAlert("","Please select date"):""===this.PostData.email?this.presentAlert("","Please enter your email address"):/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.PostData.email)?""===this.PostData.first_name?this.presentAlert("","Please enter your name"):""===this.PostData.phone_number?this.presentAlert("","Please enter your mobile number"):(this.hasClick=!0,this.apiService.bookNow(this.PostData,this.selectedservices).then(t=>{this.hasClick=!1,this.data=t;let r=this.data.code,o=this.data.message;1==r&&(this.deleteAll(),this.navCtrl.back()),this.presentAlert("",o)},t=>{this.hasClick=!1,this.presentAlert("",t.error.message)})):this.presentAlert("","Invalid email address")}deleteAll(){this.selectedservices=[],this.PostData={country:"",city:"",start_date:"",details:"",first_name:"",email:"",phone_number:"",company:""}}openSignin(){this.apiService.openLink("https://papricut.com/login")}countryEvent(n){this.getCities(n.detail.value)}getCountries(){!0!==navigator.onLine||0==this.networkService.checkInternetConnection()?this.presentAlert("No Internet Connection!","Please put Internet Connection ON and try again"):this.apiService.loadCountries().then(n=>{this.data=n,this.countries=this.data.result})}getCities(n){this.apiLoader=!0,this.apiService.loadCities(n).then(t=>{this.apiLoader=!1,this.data=t,this.cities=this.data.result})}adjustTextarea(n){const t=n.target;t.style.height="auto",t.style.height=t.scrollHeight+"px"}presentAlertWithDismiss(n,t){var r=this;return(0,u.A)(function*(){yield(yield r.alertCtrl.create({header:n,message:t,backdropDismiss:!1,buttons:[{text:"Login",handler:()=>{r.openSignin()}}]})).present()})()}presentAlert(n,t){var r=this;return(0,u.A)(function*(){yield(yield r.alertCtrl.create({header:n,message:t,buttons:["OK"]})).present()})()}toast(n){var t=this;return(0,u.A)(function*(){(yield t.toastController.create({message:n,duration:2e3,position:"bottom",mode:"ios",color:"dark"})).present()})()}}(p=k).\u0275fac=function(n){return new(n||p)(e.rXU(s.K_),e.rXU(b.q9),e.rXU(s.hG),e.rXU(h.Ix),e.rXU(y.G),e.rXU(v.G),e.rXU(D.A),e.rXU(s.IE))},p.\u0275cmp=e.VBU({type:p,selectors:[["app-booknow"]],decls:19,vars:6,consts:[["color","primary"],["slot","start"],["mode","md","color","light"],[1,"ion-padding"],["class","custom-spinner-center",4,"ngIf"],[4,"ngIf"],["size","4","no-padding",""],["color","primary","expand","block","size","medium","fill","outline",3,"click"],["name","chevron-back"],["size","5","no-padding","",4,"ngIf"],["size","3","no-padding","",4,"ngIf"],["size","8","no-padding","",4,"ngIf"],[1,"custom-spinner-center"],[1,"page-label"],[4,"ngFor","ngForOf"],["position","floating"],["id","start_date","displayFormat","DD MMM YYYY",3,"ngModelChange","value","ngModel","disabled"],["trigger","start_date",3,"ionPopoverDidDismiss"],["size","6"],["name","country","interface","action-sheet",1,"myCustomSelect",3,"ngModelChange","ionChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["name","city","interface","action-sheet",1,"myCustomSelect",3,"ngModelChange","ngModel","disabled"],["rows","4","name","details",1,"auto-resize-textarea",3,"input","ngModelChange","ngModel","disabled"],["size","1","no-padding",""],[3,"ngModelChange","ionChange","ngModel"],["size","11","no-padding",""],["presentation","date","displayFormat","DD MMM YYYY","locale","en-US",3,"ngModelChange","ionChange","ngModel","min"],[3,"value"],["name","first_name",1,"mt-2",3,"ngModelChange","ngModel","disabled"],["type","email","name","email",1,"mt-2",3,"ngModelChange","ngModel","disabled"],["type","tel","name","phone_number",1,"mt-2",3,"ngModelChange","ngModel","disabled"],["name","company",1,"mt-2",3,"ngModelChange","ngModel","disabled"],["size","5","no-padding",""],["size","3","no-padding",""],["name","chevron-forward",1,"icon-item"],["size","8","no-padding",""],["color","primary","expand","block","size","medium",3,"click",4,"ngIf"],["mode","ios","expand","block","color","primary","size","medium","type","button",4,"ngIf"],["color","primary","expand","block","size","medium",3,"click"],["mode","ios","expand","block","color","primary","size","medium","type","button"],["name","crescent"]],template:function(n,t){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Book a Videographer"),e.k0s()()(),e.j41(6,"ion-content",3),e.DNE(7,M,1,0,"ion-spinner",4)(8,F,28,15,"div",5)(9,I,19,8,"div",5),e.k0s(),e.j41(10,"ion-footer")(11,"ion-row")(12,"ion-col",6)(13,"ion-button",7),e.bIt("click",function(){return t.goToPreviousStep()}),e.nrm(14,"ion-icon",8),e.EFF(15," Previous "),e.k0s()(),e.DNE(16,S,1,0,"ion-col",9)(17,G,4,0,"ion-col",10)(18,N,3,2,"ion-col",11),e.k0s()()),2&n&&(e.R7$(7),e.Y8G("ngIf",t.apiLoader),e.R7$(),e.Y8G("ngIf",1===t.currentStep),e.R7$(),e.Y8G("ngIf",2===t.currentStep),e.R7$(7),e.Y8G("ngIf",t.currentStep<2),e.R7$(),e.Y8G("ngIf",t.currentStep<2),e.R7$(),e.Y8G("ngIf",2===t.currentStep))},dependencies:[c.Sq,c.bT,g.BC,g.vS,s.Jm,s.QW,s.eY,s.hU,s.W9,s.A9,s.M0,s.eU,s.iq,s.$w,s.uz,s.he,s.ln,s.Nm,s.Ip,s.w2,s.nc,s.BC,s.ai,s.CF,s.hB,s.Je,s.Gw,s.el,c.vh],styles:[".auto-resize-textarea[_ngcontent-%COMP%]{resize:none;overflow:hidden}.step-progress[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:10px}.step-indicator[_ngcontent-%COMP%]{position:relative;width:30px;height:30px;border-radius:50%;background-color:#4c5494;box-shadow:inset 3px 3px 5px #0000001a,3px 3px 5px #0000001a;color:#fff;display:flex;align-items:center;justify-content:center}.step-indicator.active[_ngcontent-%COMP%]{background-color:var(--ion-color-secondary);color:#fff}.step-indicator-text[_ngcontent-%COMP%]{margin-top:-20%!important}.step-line[_ngcontent-%COMP%]{flex-grow:1;height:2px;background-color:#4c5494;margin:14px 0}.icon-item[_ngcontent-%COMP%]{font-size:4vw}.page-label[_ngcontent-%COMP%]{font-weight:700}"]});const Y=[{path:"",component:k}];class P{}var _;(d=P).\u0275fac=function(n){return new(n||d)},d.\u0275mod=e.$C({type:d}),d.\u0275inj=e.G2t({imports:[h.iI.forChild(Y),h.iI]});class C{}(_=C).\u0275fac=function(n){return new(n||_)},_.\u0275mod=e.$C({type:_}),_.\u0275inj=e.G2t({imports:[c.MD,g.YN,s.bv,P]})}}]);