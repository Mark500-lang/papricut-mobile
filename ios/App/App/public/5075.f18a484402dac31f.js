"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(w,g,r)=>{r.r(g),r.d(g,{HomePageModule:()=>v});var l,c,h=r(177),n=r(4488),P=r(4341),u=r(8986),F=r(467),e=r(4438),k=r(4796),j=r(4517),b=r(3366),_=r(2404),C=r(8129);function H(i,t){1&i&&e.nrm(0,"ion-spinner",6)}function R(i,t){1&i&&(e.j41(0,"ion-item")(1,"div",7)(2,"div")(3,"p",8),e.EFF(4,"Hello! Inquire on how to get your SUPER Photographer Badge."),e.k0s()()()())}function I(i,t){if(1&i){const o=e.RV6();e.j41(0,"div")(1,"ion-item",9),e.bIt("click",function(){e.eBV(o);const a=e.XpG();return e.Njj(a.bookNow())}),e.j41(2,"div",7)(3,"div")(4,"h5",10),e.EFF(5,"Book Photographer"),e.k0s(),e.j41(6,"p",8),e.EFF(7,"Anywhere around the world!"),e.k0s()()(),e.nrm(8,"ion-icon",11),e.k0s()()}}function y(i,t){if(1&i){const o=e.RV6();e.j41(0,"div")(1,"ion-card",12),e.bIt("click",function(){e.eBV(o);const a=e.XpG();return e.Njj(a.openBookings(1))}),e.j41(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"Active Shoots"),e.k0s(),e.j41(5,"ion-card-subtitle"),e.EFF(6,"Updated today!"),e.k0s(),e.j41(7,"ion-badge",13),e.EFF(8),e.k0s()()(),e.j41(9,"ion-card",14),e.bIt("click",function(){e.eBV(o);const a=e.XpG();return e.Njj(a.openBookings(6))}),e.j41(10,"ion-card-header")(11,"ion-card-title"),e.EFF(12,"Shoot Content Delivered"),e.k0s(),e.j41(13,"ion-card-subtitle"),e.EFF(14,"Pending Approval"),e.k0s(),e.j41(15,"ion-badge",13),e.EFF(16),e.k0s()(),e.j41(17,"ion-card-content"),e.EFF(18," Updated today! "),e.k0s()(),e.j41(19,"ion-card",15),e.bIt("click",function(){e.eBV(o);const a=e.XpG();return e.Njj(a.openBookings(3))}),e.j41(20,"ion-card-header")(21,"ion-card-title"),e.EFF(22,"Shoot Fully Completed"),e.k0s(),e.j41(23,"ion-card-subtitle"),e.EFF(24,"Updated today!"),e.k0s(),e.j41(25,"ion-badge",13),e.EFF(26),e.k0s()()()()}if(2&i){const o=e.XpG();e.R7$(8),e.JRh(o.ongoing),e.R7$(8),e.JRh(o.delivered),e.R7$(10),e.JRh(o.completed)}}class p{constructor(t,o,s,a,f){this.authService=t,this.navCtrl=o,this.alertCtrl=s,this.apiService=a,this.networkService=f,this.pageName="home",this.delivered="0",this.ongoing="0",this.completed="0",this.apiLoader=!1,this.rights_group="0",this.isSuper="0"}ngOnInit(){}ionViewDidEnter(){this.rights_group=localStorage.getItem("PapricutRightsGroup")||"",this.isSuper=localStorage.getItem("PapricutisSuper")||"",this.getDashboardData()}doRefresh(t){this.getDashboardData(),t&&t.detail.complete()}getDashboardData(){!0!==navigator.onLine?this.presentAlert("","No Internet Connection!","Please put Internet Connection ON and try again"):this.apiService.getDashboard().then(t=>{this.data=t,400!=this.data.code&&0!=this.data.code?(this.delivered=this.data.result.delivered,this.ongoing=this.data.result.ongoing,this.completed=this.data.result.completed,this.rights_group=this.data.result.rights_group,this.isSuper=this.data.result.isSuper):this.logoutNow()})}logoutNow(){this.authService.clearAuthentication(),this.navCtrl.navigateForward("/welcome",{state:{}}),this.apiLoader=!0,this.apiService.logout().then(t=>{this.apiLoader=!1},t=>{this.apiLoader=!1})}bookNow(){this.navCtrl.navigateForward("/booknow",{state:{}})}openBookings(t){const o={status:t};this.navCtrl.navigateForward("/bookings",{state:o})}presentAlert(t,o,s){var a=this;return(0,F.A)(function*(){yield(yield a.alertCtrl.create({header:t,subHeader:o,message:s,cssClass:"alertButtonCssAuto",buttons:["OK"]})).present()})()}}(l=p).\u0275fac=function(t){return new(t||l)(e.rXU(k.u),e.rXU(j.q9),e.rXU(n.hG),e.rXU(b.G),e.rXU(_.A))},l.\u0275cmp=e.VBU({type:l,selectors:[["app-home"]],decls:13,vars:5,consts:[["color","primary"],["class","custom-spinner-center",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["pullingText","Pull to refresh","pullingIcon","arrow-dropdown","refreshingSpinner","circles","refreshingText","..fetching"],[4,"ngIf"],[3,"pageName"],[1,"custom-spinner-center"],[1,"main-list"],[1,"p-list"],[3,"click"],[1,"h2-list"],["slot","end","name","chevron-forward-outline"],["color","medium",1,"card-with-counter",3,"click"],[1,"counter-badge"],["color","tertiary",1,"card-with-counter",3,"click"],["color","dark",1,"card-with-counter",3,"click"]],template:function(t,o){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3," Papricut "),e.k0s()()(),e.j41(4,"ion-content"),e.DNE(5,H,1,0,"ion-spinner",1),e.j41(6,"ion-refresher",2),e.bIt("ionRefresh",function(a){return o.doRefresh(a)}),e.nrm(7,"ion-refresher-content",3),e.k0s(),e.DNE(8,R,5,0,"ion-item",4)(9,I,9,0,"div",4)(10,y,27,3,"div",4),e.k0s(),e.j41(11,"ion-footer"),e.nrm(12,"app-bottomtabs",5),e.k0s()),2&t&&(e.R7$(5),e.Y8G("ngIf",o.apiLoader),e.R7$(3),e.Y8G("ngIf","3"==o.rights_group&&"0"==o.isSuper),e.R7$(),e.Y8G("ngIf","4"==o.rights_group),e.R7$(),e.Y8G("ngIf","3"==o.rights_group||"4"==o.rights_group),e.R7$(2),e.Y8G("pageName",o.pageName))},dependencies:[h.bT,n.In,n.b_,n.I9,n.ME,n.HW,n.tN,n.W9,n.M0,n.eU,n.iq,n.uz,n.To,n.Ki,n.w2,n.BC,n.ai,C.J],styles:[".curved-image-container[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.curved-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:30vh;border-bottom-left-radius:100% 80%;border-bottom-right-radius:100% 50px}.center-content[_ngcontent-%COMP%]{text-align:center}.center-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-bottom:10px}.card-with-counter[_ngcontent-%COMP%]{position:relative}.counter-badge[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;font-size:14px;background-color:#fc0;color:#000}"]});const E=[{path:"",component:p}];class m{}(c=m).\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.$C({type:c}),c.\u0275inj=e.G2t({imports:[u.iI.forChild(E),u.iI]});var d,S=r(3887);class v{}(d=v).\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.$C({type:d}),d.\u0275inj=e.G2t({imports:[h.MD,P.YN,n.bv,m,S.G]})}}]);