"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8618],{8618:(L,D,l)=>{l.r(D),l.d(D,{RegisterPageModule:()=>k});var u,p,R=l(177),c=l(4341),s=l(4488),f=l(8986),m=l(467),b=l(1831),I=l(5312),e=l(4438),w=l(4517),j=l(369),F=l(3366),v=l(7925),T=l(2404),G=l(1626);function E(o,i){1&o&&e.nrm(0,"ion-spinner",25)}function A(o,i){if(1&o&&(e.j41(0,"ion-select-option",26),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.FS9("value",t.id),e.R7$(),e.JRh(t.name)}}function S(o,i){if(1&o&&(e.j41(0,"ion-select-option",26),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.FS9("value",t.id),e.R7$(),e.JRh(t.name)}}function O(o,i){if(1&o){const t=e.RV6();e.j41(0,"ion-col",10)(1,"ion-item")(2,"ion-label",7),e.EFF(3,"Bio"),e.k0s(),e.j41(4,"ion-textarea",27),e.bIt("input",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.adjustTextarea(n))}),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.RegisterData.bio,n)||(r.RegisterData.bio=n),e.Njj(n)}),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.RegisterData.bio),e.Y8G("disabled",t.hasClick)}}function N(o,i){if(1&o&&(e.j41(0,"ion-select-option",26),e.EFF(1),e.k0s()),2&o){const t=i.$implicit;e.FS9("value",t.id),e.R7$(),e.JRh(t.name)}}function Y(o,i){if(1&o){const t=e.RV6();e.j41(0,"ion-row")(1,"ion-col",34)(2,"div",35),e.nrm(3,"img",36),e.j41(4,"span",37)(5,"ion-icon",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.delete_IMAGE())}),e.k0s()()()()()}if(2&o){const t=e.XpG(2);e.R7$(3),e.Y8G("src",t.photo,e.B4B)}}function U(o,i){if(1&o){const t=e.RV6();e.j41(0,"ion-row",28)(1,"ion-col",6)(2,"ion-item")(3,"ion-label",7),e.EFF(4,"Category"),e.k0s(),e.j41(5,"ion-select",29),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.RegisterData.categoryId,n)||(r.RegisterData.categoryId=n),e.Njj(n)}),e.DNE(6,N,2,2,"ion-select-option",13),e.k0s()()(),e.j41(7,"ion-col",6),e.DNE(8,Y,6,1,"ion-row",30),e.j41(9,"ion-button",31),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.takePicture())}),e.nrm(10,"ion-icon",32),e.j41(11,"span",33),e.EFF(12,"Profile Image"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(5),e.R50("ngModel",t.RegisterData.categoryId),e.Y8G("disabled",t.hasClick),e.R7$(),e.Y8G("ngForOf",t.categories),e.R7$(2),e.Y8G("ngIf",t.photo&&null!=t.photo)}}function X(o,i){1&o&&(e.j41(0,"ion-button",39),e.EFF(1," Sign Up "),e.k0s())}function B(o,i){1&o&&(e.j41(0,"ion-button",40),e.nrm(1,"ion-spinner",41),e.k0s())}class M{constructor(i,t,a,n,r,g,_,d,C,y){this.navCrtl=i,this.alertCtrl=t,this.toastController=a,this.storage=n,this.apiService=r,this.otherService=g,this.networkService=_,this.router=d,this.route=C,this.http=y,this.API_URL=I.c.API_URL,this.formData=new FormData,this.RegisterData={first_name:"",last_name:"",phone_number:"",whatsapp_number:"",email:"",countryId:"",cityId:"",bio:"",password:"",password_confirmation:"",categoryId:""},this.apiLoader=!1,this.countries=[],this.cities=[],this.categories=[],this.hasClick=!1,this.otherService.statusBar("#d1378c",1)}ngOnInit(){this.route.queryParams.subscribe(i=>{var t;const a=null===(t=this.router.getCurrentNavigation())||void 0===t?void 0:t.extras.state;a&&(this.accountType=a.accountType)}),this.getCountries(),this.getCategories()}getCategories(){this.apiService.getCategories().then(i=>{this.data=i,this.categories=this.data.result})}ActionSubmit(){if(!0!==navigator.onLine||0==this.networkService.checkInternetConnection())this.presentAlert("No Internet Connection!","Please put Internet Connection ON and try again");else if(""===this.RegisterData.email)this.presentAlert("","Please enter your email address");else if(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.RegisterData.email))if(""===this.RegisterData.first_name)this.presentAlert("","Please enter your first name");else if(""===this.RegisterData.last_name)this.presentAlert("","Please enter your last name");else if(""===this.RegisterData.phone_number)this.presentAlert("","Please enter your mobile number");else if(""===this.RegisterData.password)this.presentAlert("","Please enter your preferred password");else if(this.RegisterData.password!=this.RegisterData.password_confirmation)this.presentAlert("","Password and confirm password fields must match");else{if(null!=this.photoData&&null!=this.photoData){const a=this.photoData;let n=a;n.name=Date.now()+"."+a.type.split("/")[1],this.formData.append("image",n,Date.now()+"."+a.type.split("/")[1])}this.formData.append("phone_number",this.RegisterData.phone_number),this.formData.append("whatsapp_number",this.RegisterData.whatsapp_number),this.formData.append("first_name",this.RegisterData.first_name),this.formData.append("last_name",this.RegisterData.last_name),this.formData.append("email",this.RegisterData.email),this.formData.append("countryId",this.RegisterData.countryId),this.formData.append("cityId",this.RegisterData.cityId),this.formData.append("bio",this.RegisterData.bio),this.formData.append("password",this.RegisterData.password),this.formData.append("password_confirmation",this.RegisterData.password_confirmation),this.formData.append("categoryId",this.RegisterData.categoryId);const t=localStorage.getItem("PapricutAccessToken");null!==t&&this.formData.append("accessToken",t),"Photographer"==this.accountType?this.formData.append("user_type","3"):this.formData.append("user_type","4"),this.hasClick=!0,this.http.post(this.API_URL+"registerMobile",this.formData).subscribe(a=>{this.hasClick=!1;let n=JSON.stringify(a),r=JSON.parse(n);1==r.code?(this.deleteAll(),this.presentAlertWithDismiss("",r.message)):this.toast(r.message)},a=>{this.hasClick=!1,this.presentAlert("",a.message)})}else this.presentAlert("","Invalid email address")}takePicture(){var i=this;return(0,m.A)(function*(){try{const t=yield b.i7.getPhoto({quality:90,height:500,width:500,allowEditing:!1,correctOrientation:!0,resultType:b.LK.Base64,source:b.ru.Prompt});if(t&&t.base64String){i.photo="data:image/jpeg;base64,"+t.base64String;const a=yield i.compressPhoto(t.base64String,500,500),n=atob(a),r=new Array(n.length);for(let d=0;d<n.length;d++)r[d]=n.charCodeAt(d);const g=new Uint8Array(r),_=new Blob([g],{type:"image/jpeg"});i.photoData=_}else i.toast("Failed to get photo, please try again")}catch{i.toast("No photo was captured. Please try again.")}})()}compressPhoto(i,t,a){return(0,m.A)(function*(){const n=new Image;n.src="data:image/jpeg;base64,"+i,yield new Promise((C,y)=>{n.onload=()=>C(void 0),n.onerror=z=>y(z)});const r=Math.min(t/n.width,a/n.height),g=document.createElement("canvas"),_=g.getContext("2d");return g.width=n.width*r,g.height=n.height*r,_.drawImage(n,0,0,g.width,g.height),g.toDataURL("image/jpeg",.6).replace("data:image/jpeg;base64,","")})()}delete_IMAGE(){this.photo=null,this.photoData=null}deleteAll(){this.photo=null,this.photoData=null,this.RegisterData={first_name:"",last_name:"",phone_number:"",whatsapp_number:"",email:"",countryId:"",cityId:"",bio:"",password:"",password_confirmation:"",categoryId:""}}openSignin(){this.router.navigate(["/signin"])}terms(){this.apiService.openLink("https://papricut.com/terms-of-use")}privacy(){this.apiService.openLink("https://papricut.com/privacy_policy")}goToBack(){this.navCrtl.back()}countryEvent(i){this.getCities(i.detail.value)}getCountries(){this.apiService.loadCountries().then(i=>{this.data=i,this.countries=this.data.result})}getCities(i){this.apiLoader=!0,this.apiService.loadCities(i).then(t=>{this.apiLoader=!1,this.data=t,this.cities=this.data.result})}adjustTextarea(i){const t=i.target;t.style.height="auto",t.style.height=t.scrollHeight+"px"}presentAlertWithDismiss(i,t){var a=this;return(0,m.A)(function*(){yield(yield a.alertCtrl.create({header:i,message:t,backdropDismiss:!1,buttons:[{text:"Login",handler:()=>{a.openSignin()}}]})).present()})()}presentAlert(i,t){var a=this;return(0,m.A)(function*(){yield(yield a.alertCtrl.create({header:i,message:t,buttons:["Ok"]})).present()})()}toast(i){var t=this;return(0,m.A)(function*(){(yield t.toastController.create({message:i,duration:2e3,position:"bottom",mode:"ios",color:"dark"})).present()})()}}(u=M).\u0275fac=function(i){return new(i||u)(e.rXU(w.q9),e.rXU(s.hG),e.rXU(s.K_),e.rXU(j.w),e.rXU(F.G),e.rXU(v.G),e.rXU(T.A),e.rXU(f.Ix),e.rXU(f.nX),e.rXU(G.Qq))},u.\u0275cmp=e.VBU({type:u,selectors:[["app-register"]],decls:75,vars:26,consts:[["color","primary"],["slot","start"],["color","light"],[1,"ion-padding"],["class","custom-spinner-center",4,"ngIf"],[3,"ngSubmit"],["size","6"],["position","floating"],["name","first_name",3,"ngModelChange","ngModel","disabled"],["name","last_name",3,"ngModelChange","ngModel","disabled"],["size","12"],["type","email","name","email",1,"center-label",3,"ngModelChange","ngModel","disabled"],["name","countryId","interface","action-sheet",1,"myCustomSelect",3,"ngModelChange","ionChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["name","cityId","interface","action-sheet",1,"myCustomSelect",3,"ngModelChange","ngModel","disabled"],["type","tel","name","phone_number",3,"ngModelChange","ngModel","disabled"],["type","tel","name","whatsapp_number",3,"ngModelChange","ngModel","disabled"],["type","password","name","password",3,"ngModelChange","ngModel","disabled"],["type","password","name","password_confirmation",3,"ngModelChange","ngModel","disabled"],["size","12",4,"ngIf"],["class","mt-2",4,"ngIf"],["text-center","",1,"forgot_lbl"],[1,"primary-color",3,"click"],["mode","ios","type","submit","expand","block",4,"ngIf"],["mode","ios","expand","block","color","primary","type","button",4,"ngIf"],[1,"custom-spinner-center"],[3,"value"],["rows","3","name","bio",1,"auto-resize-textarea",3,"input","ngModelChange","ngModel","disabled"],[1,"mt-2"],["name","categoryId","interface","action-sheet",1,"myCustomSelect",3,"ngModelChange","ngModel","disabled"],[4,"ngIf"],["color","dark","expand","block","fill","outline",3,"click"],["slot","start","name","image-outline","aria-hidden","true"],[1,"transform-none-case"],["size","12",2,"padding","2px"],["text-center","",1,"profile-img"],[1,"photo-img","array-img",3,"src"],[1,"upload-img-top"],["color","danger","name","close-circle",1,"cameraIcon-remove",3,"click"],["mode","ios","type","submit","expand","block"],["mode","ios","expand","block","color","primary","type","button"],["name","crescent"]],template:function(i,t){1&i&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.k0s()()(),e.j41(6,"ion-content",3)(7,"p"),e.EFF(8,"Fill in your details to continue!"),e.k0s(),e.DNE(9,E,1,0,"ion-spinner",4),e.j41(10,"form",5),e.bIt("ngSubmit",function(){return t.ActionSubmit()}),e.j41(11,"ion-row")(12,"ion-col",6)(13,"ion-item")(14,"ion-label",7),e.EFF(15,"First Name*"),e.k0s(),e.j41(16,"ion-input",8),e.mxI("ngModelChange",function(n){return e.DH7(t.RegisterData.first_name,n)||(t.RegisterData.first_name=n),n}),e.k0s()()(),e.j41(17,"ion-col",6)(18,"ion-item")(19,"ion-label",7),e.EFF(20,"Last Name*"),e.k0s(),e.j41(21,"ion-input",9),e.mxI("ngModelChange",function(n){return e.DH7(t.RegisterData.last_name,n)||(t.RegisterData.last_name=n),n}),e.k0s()()(),e.j41(22,"ion-col",10)(23,"ion-item")(24,"ion-label",7),e.EFF(25,"Email Address*"),e.k0s(),e.j41(26,"ion-input",11),e.mxI("ngModelChange",function(n){return e.DH7(t.RegisterData.email,n)||(t.RegisterData.email=n),n}),e.k0s()()()(),e.j41(27,"ion-row")(28,"ion-col",6)(29,"ion-item")(30,"ion-label",7),e.EFF(31,"Country*"),e.k0s(),e.j41(32,"ion-select",12),e.mxI("ngModelChange",function(n){return e.DH7(t.RegisterData.countryId,n)||(t.RegisterData.countryId=n),n}),e.bIt("ionChange",function(n){return t.countryEvent(n)}),e.DNE(33,A,2,2,"ion-select-option",13),e.k0s()()(),e.j41(34,"ion-col",6)(35,"ion-item")(36,"ion-label",7),e.EFF(37,"City*"),e.k0s(),e.j41(38,"ion-select",14),e.mxI("ngModelChange",function(n){return e.DH7(t.RegisterData.cityId,n)||(t.RegisterData.cityId=n),n}),e.DNE(39,S,2,2,"ion-select-option",13),e.k0s()()()(),e.j41(40,"ion-row")(41,"ion-col",6)(42,"ion-item")(43,"ion-label",7),e.EFF(44,"Mobile No."),e.k0s(),e.j41(45,"ion-input",15),e.mxI("ngModelChange",function(n){return e.DH7(t.RegisterData.phone_number,n)||(t.RegisterData.phone_number=n),n}),e.k0s()()(),e.j41(46,"ion-col",6)(47,"ion-item")(48,"ion-label",7),e.EFF(49,"WhatsApp No.*"),e.k0s(),e.j41(50,"ion-input",16),e.mxI("ngModelChange",function(n){return e.DH7(t.RegisterData.whatsapp_number,n)||(t.RegisterData.whatsapp_number=n),n}),e.k0s()()()(),e.j41(51,"ion-row")(52,"ion-col",10)(53,"ion-item")(54,"ion-label",7),e.EFF(55,"Password*"),e.k0s(),e.j41(56,"ion-input",17),e.mxI("ngModelChange",function(n){return e.DH7(t.RegisterData.password,n)||(t.RegisterData.password=n),n}),e.k0s()()(),e.j41(57,"ion-col",10)(58,"ion-item")(59,"ion-label",7),e.EFF(60,"Confirm Password*"),e.k0s(),e.j41(61,"ion-input",18),e.mxI("ngModelChange",function(n){return e.DH7(t.RegisterData.password_confirmation,n)||(t.RegisterData.password_confirmation=n),n}),e.k0s()()(),e.DNE(62,O,5,2,"ion-col",19),e.k0s(),e.DNE(63,U,13,4,"ion-row",20),e.j41(64,"p",21),e.EFF(65," By creating an account you agree to our "),e.j41(66,"span",22),e.bIt("click",function(){return t.terms()}),e.j41(67,"strong"),e.EFF(68,"Terms of Use"),e.k0s()(),e.EFF(69," and "),e.j41(70,"span",22),e.bIt("click",function(){return t.privacy()}),e.j41(71,"strong"),e.EFF(72,"Privacy Policy"),e.k0s()()(),e.DNE(73,X,2,0,"ion-button",23)(74,B,2,0,"ion-button",24),e.k0s()()),2&i&&(e.R7$(5),e.SpI("Register as ",t.accountType,""),e.R7$(4),e.Y8G("ngIf",t.apiLoader),e.R7$(7),e.R50("ngModel",t.RegisterData.first_name),e.Y8G("disabled",t.hasClick),e.R7$(5),e.R50("ngModel",t.RegisterData.last_name),e.Y8G("disabled",t.hasClick),e.R7$(5),e.R50("ngModel",t.RegisterData.email),e.Y8G("disabled",t.hasClick),e.R7$(6),e.R50("ngModel",t.RegisterData.countryId),e.Y8G("disabled",t.hasClick),e.R7$(),e.Y8G("ngForOf",t.countries),e.R7$(5),e.R50("ngModel",t.RegisterData.cityId),e.Y8G("disabled",t.hasClick),e.R7$(),e.Y8G("ngForOf",t.cities),e.R7$(6),e.R50("ngModel",t.RegisterData.phone_number),e.Y8G("disabled",t.hasClick),e.R7$(5),e.R50("ngModel",t.RegisterData.whatsapp_number),e.Y8G("disabled",t.hasClick),e.R7$(6),e.R50("ngModel",t.RegisterData.password),e.Y8G("disabled",t.hasClick),e.R7$(5),e.R50("ngModel",t.RegisterData.password_confirmation),e.Y8G("disabled",t.hasClick),e.R7$(),e.Y8G("ngIf","Photographer"==t.accountType),e.R7$(),e.Y8G("ngIf","Photographer"==t.accountType),e.R7$(10),e.Y8G("ngIf",!t.hasClick),e.R7$(),e.Y8G("ngIf",t.hasClick))},dependencies:[c.qT,c.BC,c.cb,R.Sq,R.bT,c.vS,c.cV,s.Jm,s.QW,s.hU,s.W9,s.eU,s.iq,s.$w,s.uz,s.he,s.ln,s.Nm,s.Ip,s.w2,s.nc,s.BC,s.ai,s.Je,s.Gw,s.el],styles:[".auto-resize-textarea[_ngcontent-%COMP%]{resize:none;overflow:hidden}.main_content_div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:block}.main_content_div[_ngcontent-%COMP%]   .header_flex[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.main_content_div[_ngcontent-%COMP%]   .header_flex[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-dark)}.main_content_div[_ngcontent-%COMP%]   .bold_lbl[_ngcontent-%COMP%]{font-size:26px;text-align:center;color:var(--ion-color-dark)}.main_content_div[_ngcontent-%COMP%]   .small_lbl[_ngcontent-%COMP%]{text-align:center;color:var(--ion-color-dark);font-size:14px;margin-bottom:30px;margin-top:10px}.main_content_div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;--border-radius: 5px;height:50px}.main_content_div[_ngcontent-%COMP%]   .forgot_lbl[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-size:14px;text-align:center}ion-grid[_ngcontent-%COMP%]{--ion-grid-padding: 0}ion-row[_ngcontent-%COMP%]{--ion-row-padding-start: 0;--ion-row-padding-end: 0}ion-col[_ngcontent-%COMP%]{--ion-col-padding: 0}.array-img[_ngcontent-%COMP%]{width:100%!important;height:15vh!important;border-radius:6px!important;border:1px solid #ccc}.upload-img-top[_ngcontent-%COMP%]{position:absolute;right:3%;top:3%;text-align:center}.upload-img-top[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{line-height:inherit;font-size:10vw;color:var(--ion-color-dark)}"]});const x=[{path:"",component:M}];class P{}var h;(p=P).\u0275fac=function(i){return new(i||p)},p.\u0275mod=e.$C({type:p}),p.\u0275inj=e.G2t({imports:[f.iI.forChild(x),f.iI]});class k{}(h=k).\u0275fac=function(i){return new(i||h)},h.\u0275mod=e.$C({type:h}),h.\u0275inj=e.G2t({imports:[c.X1,R.MD,c.YN,s.bv,P]})}}]);